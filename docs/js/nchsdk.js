!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=4)}([function(n,t,e){"use strict";var r=e(3);function o(){}var i=null,u={};function c(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,n!==o&&p(n,this)}function s(n,t){for(;3===n._i;)n=n._j;if(c._l&&c._l(n),0===n._i)return 0===n._h?(n._h=1,void(n._k=t)):1===n._h?(n._h=2,void(n._k=[n._k,t])):void n._k.push(t);!function(n,t){r((function(){var e=1===n._i?t.onFulfilled:t.onRejected;if(null!==e){var r=function(n,t){try{return n(t)}catch(n){return i=n,u}}(e,n._j);r===u?f(t.promise,i):a(t.promise,r)}else 1===n._i?a(t.promise,n._j):f(t.promise,n._j)}))}(n,t)}function a(n,t){if(t===n)return f(n,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var e=function(n){try{return n.then}catch(n){return i=n,u}}(t);if(e===u)return f(n,i);if(e===n.then&&t instanceof c)return n._i=3,n._j=t,void l(n);if("function"==typeof e)return void p(e.bind(t),n)}n._i=1,n._j=t,l(n)}function f(n,t){n._i=2,n._j=t,c._m&&c._m(n,t),l(n)}function l(n){if(1===n._h&&(s(n,n._k),n._k=null),2===n._h){for(var t=0;t<n._k.length;t++)s(n,n._k[t]);n._k=null}}function h(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function p(n,t){var e=!1,r=function(n,t,e){try{n(t,e)}catch(n){return i=n,u}}(n,(function(n){e||(e=!0,a(t,n))}),(function(n){e||(e=!0,f(t,n))}));e||r!==u||(e=!0,f(t,i))}n.exports=c,c._l=null,c._m=null,c._n=o,c.prototype.then=function(n,t){if(this.constructor!==c)return function(n,t,e){return new n.constructor((function(r,i){var u=new c(o);u.then(r,i),s(n,new h(t,e,u))}))}(this,n,t);var e=new c(o);return s(this,new h(n,t,e)),e}},function(n,t){var e={_callbacks:{},_getCallbackName:function(){var n=parseInt(1e5*Math.random());return"_callback_"+(new Date).getTime()+n},_dealCallback:function(n){var t="";return"function"==typeof n&&(t=this._getCallbackName(),this._callbacks[t]=n),t},isBridgeOk:function(){return!!(window.nchPlugin||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.bridgeOk)},sendRequest:function(n,t,e){var r=this._dealCallback(e);window.webkit&&window.webkit.messageHandlers[n].postMessage({body:{params:t,callback:r}})},rspCallBack:function(n,t){console.log("test 6 "+n),(0,this._callbacks[n])(t),delete this._callbacks[n]}};n.exports=e},function(n,t,e){"use strict";n.exports=e(7)},function(n,t,e){"use strict";(function(t){function e(n){o.length||(r(),!0),o[o.length]=n}n.exports=e;var r,o=[],i=0;function u(){for(;i<o.length;){var n=i;if(i+=1,o[n].call(),i>1024){for(var t=0,e=o.length-i;t<e;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var c,s,a,f=void 0!==t?t:self,l=f.MutationObserver||f.WebKitMutationObserver;function h(n){return function(){var t=setTimeout(r,0),e=setInterval(r,50);function r(){clearTimeout(t),clearInterval(e),n()}}}"function"==typeof l?(c=1,s=new l(u),a=document.createTextNode(""),s.observe(a,{characterData:!0}),r=function(){c=-c,a.data=c}):r=h(u),e.requestFlush=r,e.makeRequestCallFromTimer=h}).call(this,e(8))},function(n,t,e){var r={version:"1.0.0",bridge:e(1),app:e(5),auth:e(6),env:e(15),chat:e(16)};"undefined"!=typeof window&&void 0===window.nchsdk&&(window.nchsdk=r),n.exports=r},function(n,t){n.exports={onShow:function(n){},onHide:function(){},onWindowOrientationChange:function(n){}}},function(n,t,e){var r=e(2),o=e(1),i={authStatus:{0:"OK",1:"unknow error",2:"invalid signature",3:"invalid timestamp",4:"invalid publicKey",5:"user rejected"},login:function(n,t,e,i,u){return new r((function(r,c){var s=function(n){console.log(n);var t=JSON.parse(n);0==t.status?r(t):c(t)};if(window.nchPlugin){var a=o._dealCallback(s);window.nchPlugin.authLogin(n,t,e,i.toString(),u,a)}else{console.log("login 2 ");var f=new Object;f.icon=n,f.name=t,f.publicKey=e,f.timestamp=i,f.signature=u,console.log("login 2 "+f),o.sendRequest("authLogin",f,s)}}))}};n.exports=i},function(n,t,e){"use strict";n.exports=e(0),e(9),e(10),e(11),e(12),e(14)},function(n,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t,e){"use strict";var r=e(0);n.exports=r,r.prototype.done=function(n,t){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,(function(n){setTimeout((function(){throw n}),0)}))}},function(n,t,e){"use strict";var r=e(0);n.exports=r,r.prototype.finally=function(n){return this.then((function(t){return r.resolve(n()).then((function(){return t}))}),(function(t){return r.resolve(n()).then((function(){throw t}))}))}},function(n,t,e){"use strict";var r=e(0);n.exports=r;var o=f(!0),i=f(!1),u=f(null),c=f(void 0),s=f(0),a=f("");function f(n){var t=new r(r._n);return t._i=1,t._j=n,t}r.resolve=function(n){if(n instanceof r)return n;if(null===n)return u;if(void 0===n)return c;if(!0===n)return o;if(!1===n)return i;if(0===n)return s;if(""===n)return a;if("object"==typeof n||"function"==typeof n)try{var t=n.then;if("function"==typeof t)return new r(t.bind(n))}catch(n){return new r((function(t,e){e(n)}))}return f(n)},r.all=function(n){var t=Array.prototype.slice.call(n);return new r((function(n,e){if(0===t.length)return n([]);var o=t.length;function i(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof r&&c.then===r.prototype.then){for(;3===c._i;)c=c._j;return 1===c._i?i(u,c._j):(2===c._i&&e(c._j),void c.then((function(n){i(u,n)}),e))}var s=c.then;if("function"==typeof s)return void new r(s.bind(c)).then((function(n){i(u,n)}),e)}t[u]=c,0==--o&&n(t)}for(var u=0;u<t.length;u++)i(u,t[u])}))},r.reject=function(n){return new r((function(t,e){e(n)}))},r.race=function(n){return new r((function(t,e){n.forEach((function(n){r.resolve(n).then(t,e)}))}))},r.prototype.catch=function(n){return this.then(null,n)}},function(n,t,e){"use strict";var r=e(0),o=e(13);n.exports=r,r.denodeify=function(n,t){return"number"==typeof t&&t!==1/0?function(n,t){for(var e=[],o=0;o<t;o++)e.push("a"+o);var u=["return function ("+e.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(e).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],u)(r,n)}(n,t):function(n){for(var t=Math.max(n.length-1,3),e=[],o=0;o<t;o++)e.push("a"+o);var u=["return function ("+e.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",e.concat(["extra"]).map((function(n,t){return"case "+t+":res = fn.call("+["self"].concat(e.slice(0,t)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],u)(r,n)}(n)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";r.nodeify=function(n){return function(){var t=Array.prototype.slice.call(arguments),e="function"==typeof t[t.length-1]?t.pop():null,i=this;try{return n.apply(this,arguments).nodeify(e,i)}catch(n){if(null==e)return new r((function(t,e){e(n)}));o((function(){e.call(i,n)}))}}},r.prototype.nodeify=function(n,t){if("function"!=typeof n)return this;this.then((function(e){o((function(){n.call(t,null,e)}))}),(function(e){o((function(){n.call(t,e)}))}))}},function(n,t,e){"use strict";var r=e(3),o=[],i=[],u=r.makeRequestCallFromTimer((function(){if(i.length)throw i.shift()}));function c(n){var t;(t=o.length?o.pop():new s).task=n,r(t)}function s(){this.task=null}n.exports=c,s.prototype.call=function(){try{this.task.call()}catch(n){c.onerror?c.onerror(n):(i.push(n),u())}finally{this.task=null,o[o.length]=this}}},function(n,t,e){"use strict";var r=e(0);n.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._i)return this._j.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._j},r.prototype.getReason=function(){if(3===this._i)return this._j.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._j},r.prototype.getState=function(){return 3===this._i?this._j.getState():-1===this._i||-2===this._i?0:this._i}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},function(n,t,e){var r=e(2),o=e(1),i={envStatus:{0:"OK",1:"unknow error",2:"set proxy failed",3:"user reject to set proxy",4:"no proxy"},getSystemInfo:function(){return new r((function(n,t){var e=function(e){console.log(e);var r=JSON.parse(e);0==r.status?n(r):t(r)};if(window.nchPlugin){var r=o._dealCallback(e);window.nchPlugin.getSystemInfo(r)}else{o.sendRequest("getSystemInfo","",e)}}))},setProxy:function(n,t){return new r((function(e,r){var i=function(n){console.log(n);var t=JSON.parse(n);0==t.status?e(t):r(t)};if(window.nchPlugin){var u=o._dealCallback(i);window.nchPlugin.setProxy(n,t,u)}else{var c=new Object;c.host=n,c.port=t,o.sendRequest("setProxy",c,i)}}))},revertProxy:function(){return new r((function(n,t){var e=function(e){console.log(e);var r=JSON.parse(e);0==r.status?n(r):t(r)};if(window.nchPlugin){var r=o._dealCallback(e);window.nchPlugin.revertProxy(r)}else{o.sendRequest("revertProxy","",e)}}))},getProxy:function(){return new r((function(n,t){var e=function(e){console.log(e);var r=JSON.parse(e);0==r.status?n(r):t(r)};if(window.nchPlugin){var r=o._dealCallback(e);window.nchPlugin.getProxy(r)}else{o.sendRequest("getProxy","",e)}}))}};n.exports=i},function(n,t,e){var r=e(2),o=e(1),i={chatStatus:{0:"OK",1:"unknow error",2:"invalid group id",3:"group is dismissed",4:"you already in group"},joinGroup:function(n){return new r((function(t,e){var r=function(n){console.log(n);var r=JSON.parse(n);0==r.status?t(r):e(r)};if(window.nchPlugin){var i=o._dealCallback(r);window.nchPlugin.joinGroup(n,i)}else{var u=new Object;u.groupID=n,o.sendRequest("joinGroup",u,r)}}))}};n.exports=i}]);